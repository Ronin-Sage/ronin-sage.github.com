<!DOCTYPE html
PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" >
<head>
    <title>The Portal</title>
	<link rel="stylesheet" href="standard.css" type="text/css" />
	<link rel="icon" type="image/png" href="favicon.ico" />
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
	<meta name="description" content="The personal site of aspiring webmaster and FOSS-enthusiast Adrian Sampson" />
	<meta name="author" content="Adrian Sampson" />
	<meta name="keywords" content="portal, ronin-sage, FOSS, blog, personal, adrian, sampson, linux, openbox, nitrogen, Openbox, configuring openbox" />
</head>
<body>

<div id="topbar">
    <img id="logo" src="lib/logo.png" alt="[logo]" />
</div>

<div id="container">

<div id="sidebar">
    <div id="side-nav">
	<ul>
	    <li><a href="gaming.html">++Gaming++</a></li>
	    <li><a href="quicklist.html">++Recommended Apps++</a></li>
	    <li><a href="tips.html">++Customization &amp; Tips++</a></li>
	</ul>
  </div>
</div>

<div id="header">
    <ul id="top-nav">
	<li><a href="index.html">Home</a></li>
	<li><a href="soul.html">The Soul</a></li>
	<li><a href="medium.html">::The Medium::</a></li>
	<li><a href="scripture.html">The Scripture</a></li>
	<li><a href="path.html">The Path</a></li>
    </ul>
    <h1>The Medium</h1>
</div>

<div id="content">
    <h2><span class="add">++</span>Customization &amp; Tips<span class="add">++</span></h2>
    
    <h3>:: Desktop Environment-specific GTK+ Theming ::</h3>
    
    <p>If you're like me, and use more than one X11 desktop environment on a regular basis, you probably like to theme each of these desktops
    uniquely; setting up different wallpapers, using unique icons and the like. In my case, I use Enlightenment(E17), Openbox(stand-alone), and 
    KDE4(KDEmod).</p>
	
    <p>Now, there are number of ways to take to the final step of setting in each desktop apart--changing the default GTK+ theme for each, but we'll
    focus here on what I believe is a simple and clean method of doing so. In this psuedo-tutorial, we'll be using the aforementioned sessions launched from GDM as an example.</p>
	
	
    <p>What we first need is a theme configuration file for each desktop session, so copy your <em>~/.gtkrc-2.0</em> to make files for each DE, for instane, <em>~/.gtkrc-2.0.e17</em> for the E session.</p>
    
    <code>
	include "/usr/share/themes/zni3/gtk-2.0/gtkrc"<br/>
	gtk-icon-theme-name="hydroxygen"
    </code>
	
    <p style="padding-left:15px">In this case, we're using the <a href="http://www.gnome-look.org/content/show.php/zni3?content=86285">zni3</a>
    GTK+ theme and <a href="http://www.gnome-look.org/content/show.php/hydroxygen?content=88575">hydroxygen</a> icon set, but change it fit your needs.</p>
    
    <p>At this point, we have ustom/separate .gtkrc-2.0 files for  our environments, so it's a matter of writing a rather simple BASH script to determine
    which environment we're running and load the appropriate gtk+ theme/icons.</p>
    
    <code>
	#!/bin/sh<br/><br/>
	
	case $env in<br/>
	&nbsp;&nbsp;openbox) GTK2_RC_FILES=/home/ronin-sage/.gtkrc-2.0.ob /usr/bin/openbox-session;;<br/>
	&nbsp;&nbsp;enlightenment) GTK2_RC_FILES=/home/ronin-sage/.gtkrc-2.0.e17 /usr/bin/enlightenment_start;;<br/>
	&nbsp;&nbsp;kde) /usr/bin/startkde | ogg123 $HOME/Sound/Borealis/Startup1_4.ogg;;<br/>
	&nbsp;&nbsp;compiz) GTK2_RC_FILES=/home/ronin-sage/.gtkrc-2.0.fusion /usr/local/bin/start-fusion.sh;;<br/>
	&nbsp;&nbsp;*) exit 1<br/>
	esac
    </code>
	    
    <p>$DESKTOP_SESSION is an environment variable that reveals whatever desktop environment/window manager is being run, for instance, openbox.</p>
    
    <p>Now we need to edit the .desktop that your display/login manager uses to load E17. In the case of GDM(and perhaps other freedesktop.org-compliants), it would be:</p>
    
    <code>/usr/share/xsessions/enlightenment.desktop</code>
    
    <p>Edit this file, changing the line that starts with <em>Exec= </em> to look like this(pointing to our custom script):</p>
    
    <code>Exec=$HOME/custom_theme.sh</code>
    
    <p>Now when you load any of the DEs referenced in the script via GDM, you should have a GTK+ master/icon theme unique to that DE/WM. This procedure should, in theory, work
    for other environments, but I've only tested it successfully with E17(KDE loads the custom icons, but not the theme).</p>
    
    <p>Granted, there's probably cleaner ways to do this, but having the script referenced lets you do things like, for instance, have the startup sound managed and initialized
    outside of the DE/WM(in the case of KDE[mod], the startup theme manager it uses plays the sound only after the splash screen finishes, afaik).</p>
</div>
<p>
    <a href="http://validator.w3.org/check?uri=referer">
	<img src="http://www.w3.org/Icons/valid-xhtml10-blue" alt="Valid XHTML 1.0 Transitional" height="31" width="88" />
    </a>
    <a href="http://jigsaw.w3.org/css-validator/check/referer">
	<img style="border:0;width:88px;height:31px" src="http://jigsaw.w3.org/css-validator/images/vcss-blue" alt="Valid CSS!" />
    </a>
</p>
</div>
</body>
</html>
